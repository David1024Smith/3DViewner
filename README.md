# 3DViewner

一个基于Qt3D的3D查看器应用程序，可以加载和显示3D模型。

## 功能特性

- 加载和显示3D模型
- 相机控制
  - 鼠标滚轮缩放
  - 中键拖动平移
  - Alt+中键旋转
  - 视图切换：T(顶视图)、F(前视图)、L(左视图)、P(透视图)
- 点光源
- WASD键控制模型旋转
- 单例模式的日志系统

## 构建说明

1. 确保已安装Visual Studio 2019 
2. 确保已安装Qt 6.5.3 MinGW 64-bit
**使用的技术栈**：
- C++17
- Qt 6.5.3
- CMake

## 日志系统

应用程序使用单例模式实现的日志系统，具有以下特点：

- 支持多种日志级别（Debug, Info, Warning, Critical, Fatal）
- 自动捕获Qt调试输出（qDebug, qInfo等）
- 日志输出到控制台和文件
- 线程安全
- 时间戳和日志级别标记

## 相机控制

应用程序提供了类似3ds Max的相机控制功能：

- **视图切换**：使用快捷键T、F、L、P分别切换到顶视图、前视图、左视图和透视图
- **视图导航**：
  - 鼠标中键滚动：缩放视图
  - 中键拖动：平移视图
  - Alt+中键拖动：旋转视图

## 开发日志

### 2025-07-12 
- 使用Qt3D内置的QOrbitCameraController，提供标准的3D相机控制体验
- QOrbitCameraController自动处理鼠标左键拖动（轨道旋转）、右键拖动（平移）、滚轮缩放
- 保留自定义的键盘快捷键和视图切换功能
- 保留fitToView自动适应视图功能
- 移除Alt键相关的复杂逻辑，简化事件处理
- 实现自动适应视图功能，根据模型大小自动调整相机位置
- 添加模型边界框计算功能
- 改进鼠标滚轮缩放算法，使其更加平滑和直观
- 在模型加载后自动调用fitToView功能
- 添加Home键快捷键来手动触发适应视图功能


### 2025-07-05 日志系统重构
移除界面log窗口，保留程序调试信息输出，重构代码日志为单例模式

- 采用单例设计模式实现Logger类
- 使用QMutex确保线程安全
- 支持多种日志级别和格式化输出
- 与Qt调试系统(qDebug等)集成



